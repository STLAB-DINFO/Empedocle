<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:a="http://www.ing.unifi.dsi.it/empedocle"
	xmlns:c="http://java.sun.com/jsp/jstl/core">

<ui:composition template="/layout/template.xhtml">

	<ui:define name="header">
		<ui:include src="../../header-no-menu.xhtml" />
	</ui:define>

	<ui:define name="body">
		
		<h:form>
			<h:panelGroup layout="block">
				<h:panelGroup layout="block" styleClass="page-title">
					<h2>
						Query Detail
					
						<h:panelGroup styleClass="pull-right">
							<h:commandButton styleClass="btn dist-right" 
									value="Edit"
									action="#{queryView.edit()}" />
	
							<h:commandButton styleClass="btn" 
									value="Close"
									action="#{queryView.close()}" />
	
						</h:panelGroup>
					</h2>
				</h:panelGroup>
				
				<h:panelGroup layout="block" styleClass="form-horizontal container-fluid" style="margin-top:20px;">
					<h:panelGroup styleClass="control-group" layout="block">
						<h:outputLabel styleClass="control-label bold" for="query-name" value="Name" />
					    <h:panelGroup styleClass="controls" layout="block">
					    	<h:outputText id="query-name" value="#{queryView.current.name}" />
					    </h:panelGroup>
					</h:panelGroup>
					
					<h:panelGroup styleClass="control-group" layout="block">
						<h:outputLabel styleClass="control-label bold" for="query-description" value="Description" />
					    <h:panelGroup styleClass="controls" layout="block">
					    	<h:outputText id="query-description" value="#{queryView.current.description}" />
					    </h:panelGroup>
					</h:panelGroup>
					
					<h:panelGroup id="criteria" styleClass="control-group" layout="block">
						<h:outputLabel styleClass="control-label bold" for="offset" value="Criteria" />
					    <h:panelGroup styleClass="controls" layout="block">
					    	<h:dataTable value="#{queryView.exprBeans}" var="bean">
					    		<h:column>
					    			<h:outputText value="#{bean.expression.typeLink.name}" />
					    		</h:column>
					    		<h:column>
					    			<h:outputText value="#{bean.expression.operator.name}" />
					    		</h:column>
					    		<h:column>
					    			<h:outputText value="#{bean.expression.parameter.value}" />
					    		</h:column>
					    		<h:column>
					    			<h:outputText value="#{bean.operator.translatedName}" />
					    		</h:column>
					    	</h:dataTable>
					    </h:panelGroup>
					</h:panelGroup>
					
					<h:panelGroup styleClass="control-group" layout="block">
						<h:outputLabel styleClass="control-label bold" for="offset" value="[Offset]" />
					    <h:panelGroup styleClass="controls" layout="block">
					    	<h:outputText id="offset" value="#{queryView.current.offset}" />
					    </h:panelGroup>
					</h:panelGroup>
					
					<h:panelGroup styleClass="control-group" layout="block">
						<h:outputLabel styleClass="control-label bold" for="max-res" value="Max number of results" />
					    <h:panelGroup styleClass="controls" layout="block">
					    	<h:outputText id="max-res" value="#{queryView.current.limit}" />
					    </h:panelGroup>
					</h:panelGroup>
					
					<h:panelGroup styleClass="control-group" layout="block">
						<h:outputLabel styleClass="control-label bold" for="fetch" value="[Fetch]" />
					    <h:panelGroup styleClass="controls" layout="block">
					    	<h:selectBooleanCheckbox id="fetch" value="#{queryView.current.fetch}" disabled="true" />
					    </h:panelGroup>
					</h:panelGroup>
					
				</h:panelGroup>
			</h:panelGroup>
		</h:form>
				
	</ui:define>

</ui:composition>
</html>
