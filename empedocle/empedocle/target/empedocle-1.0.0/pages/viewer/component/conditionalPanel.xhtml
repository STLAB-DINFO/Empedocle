<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<a4j:outputPanel xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:a="http://www.ing.unifi.dsi.it/empedocle">
	
	<c:if test="#{conditionalPanelController.checkRendered(viewer, value)}">
		<h:panelGroup layout="block" styleClass="conditional_content">
			<c:choose>
				<c:when test="#{conditionalPanelController.isVistaCompositaItem(viewer.target)}">
					<a:view
						value="#{value}"
						viewer="#{viewer.target}" 
						selector="#{viewer.selector}" />
				</c:when>
				<c:otherwise>
					<a:view
						value="#{conditionalPanelController.findBySelector(value, viewer.selector)}"
						viewer="#{viewer.target}" />
				</c:otherwise>
			</c:choose>
		</h:panelGroup>
	</c:if>
	
</a4j:outputPanel>
